## 驱动程序
1. 设备驱动程序是操作系统内核中至关重要的软件层，充当了上层应用程序与底层硬件设备之间的桥梁。
2. 应用程序不能直接访问硬件，只能发出通用的 I/O 请求，而内核则将这些请求传递给相应的设备驱动程序。
3. 驱动程序以最高的系统权限级别运行，将这些高级请求翻译成硬件控制器能够理解的低级指令。

## 系统调用接口
1. 由于用户空间和内核空间是隔离的，必须存在一个明确且受控的机制，允许用户程序请求内核提供的服务，即系统调用接口。 
2. 用户程序需要执行 I/O 操作，实际上是调用C库中的包装函数。
3. 这些函数会准备好参数，然后通过一个特殊的 CPU 指令（如 x86 上的 syscall 或 int 0x80）触发一个“陷阱”。
4. 这个陷阱会使 CPU 从用户模式切换到内核模式，并将控制权交给内核中预定义的系统调用处理程序。
5. 系统调用处理程序会验证请求的合法性，然后将其分派给相应的内核子系统。内核子系统进一步将请求路由到正确的设备驱动程序中定义的函数。
6. 从用户空间传递到内核的任何数据（尤其是指针）都必须被视为不可信的。