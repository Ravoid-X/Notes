## 概述
1. 目标是将一幅数字图像划分成多个有意义的、互不重叠的区域
2. 分割后的每个区域通常具有某些共同的属性，例如颜色、强度、纹理、亮度等。
## 目的
### 对象识别与定位
在进行人脸识别、车辆检测、医学影像分析（如肿瘤识别）等任务前，首先需要将目标对象从背景中分离出来。
### 简化图像表示
将复杂的像素级信息转化为更高层次的区域信息，使得后续的分析和处理更加高效和简单。
### 特征提取
对分割出的特定区域进行分析，提取其形状、大小、颜色等特征。
## 图像分割
### 基于阈值
1. 通过设定一个或多个灰度阈值，将像素分为几类。例如，在一个背景很亮、物体很暗的图像中，可以设定一个阈值，低于该值的像素判为物体，高于该值的判为背景。
2. 优点：计算简单，速度快。
3. 缺点：只对目标和背景有明显灰度差异的图像有效，对光照不均、多目标的情况处理不好。
### 基于边缘
1. 首先检测图像中的边缘（即物体轮廓），然后将这些边缘连接起来构成封闭的区域，从而完成分割。
2. 优点： 对于轮廓清晰的图像效果好。
3. 缺点： 图像噪声或边缘不连续会导致轮廓断裂，无法形成封闭区域。
### 基于区域
将具有相似性质的像素集合起来构成区域，主要包括两种策略
1. 区域生长: 从一个或多个“种子点”开始，逐步将邻近的、性质相似的像素（如灰度值相近）合并到种子点所在的区域中，直到没有符合条件的像素可以被添加。
2. 分裂与合并: 下一章详解。
### 基于聚类
将图像中的每个像素看作是一个数据点（其特征可以是颜色、位置、纹理等），然后使用聚类算法（如 K-Means）分类。
### 基于深度学习
1. 目前最前沿、效果最好的方法。
2. 通过使用卷积神经网络，特别是像 U-Net、Mask R-CNN 这样的模型，可以实现非常精确的像素级分割，即语义分割（将每个像素分类到特定类别）和实例分割（区分同一类别的不同实例）。
## 分裂
自顶向下的过程，核心思想：如果一个区域内部像素属性差异很大，那么就把它分裂成更小的子区域。
### 过程
通常使用四叉树 (Quadtree) 数据结构
1. 定义一个“均匀性”谓词 P。一个逻辑判断函数，用来判断一个区域内的所有像素是否“足够相似”。
2. 例如，可以定义为“区域内所有像素的最大灰度值与最小灰度值之差小于某个阈值 T”。如果 P(Region) = TRUE，则该区域是均匀的。
3. 从整幅图像开始，将其视为一个大的初始区域 R，对当前区域进行判断：\
（1）P(R) = TRUE，则该区域是均匀的，停止分裂。\
（2）P(R) = FALSE，则该区域不均匀，需要进行分裂。通常将其等分为四个子区域（左上、右上、左下、右下）。
4. 对分裂出的每个子区域，递归地重复步骤 3，直到所有子区域都满足均匀性谓词
### 缺点
1. 块状效应: 由于分裂是沿着固定的网格（通常是正方形）进行的，会导致分割结果的边界呈阶梯状，不平滑。
2. 过度分割: 可能会产生大量不必要的、非常小的区域，尤其是当两个本身属于同一大物体但性质略有差异的部分被分裂开时。
3. 为了解决这些问题，就需要引入“合并”操作
## 合并
自底向上的过程。核心思想：将在分裂阶段产生的、相邻且性质相似的小区域合并成一个更大的区域。
### 过程
1. 从分裂阶段得到的最小区域开始，选择任意一个区域 $R_i$，寻找其所有相邻的区域 $R_j$。
2. 定义合并的谓词。 判断 $R_i$ 和 $R_j$ 合并后的新区域 $R_i ∪ R_j$ 是否满足均匀性谓词 P。
3. 进行判断：\
（1）$P(R_i ∪ R_j)$ = TRUE，则说明这两个相邻区域是相似的，应该将它们合并成一个新区域。\
（2）$P(R_i ∪ R_j)$ = FALSE，则它们不应该被合并。
4. 重复上述过程，直到没有任何相邻的区域可以被合并为止。