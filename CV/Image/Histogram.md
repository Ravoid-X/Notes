## 概述
用于统计和展示图像中像素强度（灰度值或颜色值）分布情况的图表

## 信息
### 亮度
1. 图像偏暗：绝大部分数据会集中在 X 轴的左侧（低灰度值区域）。
2. 图像偏亮：绝大部分数据会集中在 X 轴的右侧（高灰度值区域）。
3. 亮度适中：数据会比较均匀地分布在整个 X 轴范围内。
### 对比度
1. 对比度低：数据会集中在一个很窄的范围内。这意味着图像中大部分像素的亮度都差不多，画面看起来会“灰蒙蒙”的。
2. 对比度高：数据会广泛分布在整个X轴的大部分区域，从暗部到亮部都有像素存在。这说明图像的明暗层次分明。

## 直方图均衡化
一种增强图像对比度的技术。核心思想是通过一种映射函数，将原始图像的直方图重新分布，使其尽可能地变得均匀。
### 概率密度函数
$$PDF(i) = \frac{\text{灰度值为 } i \text{ 的像素数}}{\text{图像总像素数}}$$
### 累积分布函数
表示图像中灰度值小于等于 k 的像素所占的比例。
$$CDF(k) = \sum_{i=0}^{k} PDF(i)$$
### 计算公式
利用 CDF 作为映射函数，对于原始图像中的每一个像素，其灰度值为 $g_{in}$，经过均衡化后的新灰度值 $g_{out}$ 计算如下：
$$g_{out} = CDF(g_{in}) \times (L - 1)$$
$L$ 是灰度级的总数（对于8位图像，L=256）
### 优点
1. 全自动：无需任何参数，算法简单高效。
2. 效果显著：对于整体偏暗、偏亮或对比度不足的图像，效果立竿见影。
### 缺点
1. 不适用于所有图像：如果原始图像的对比度已经很高，均衡化可能会使图像失真，显得不自然。
2. 只考虑全局的像素分布。如果图像中既有非常亮的区域，又有非常暗的区域，可能会导致某个区域的细节丢失。
3. 灰度级合并：在离散化的过程中，一些原本不同的灰度级可能会被合并为同一个值，损失部分细节。
## 自适应直方图均衡化 (AHE & CLAHE)
### AHE
将图像划分为多个不重叠的小块（Tiles），在每个小块内独立进行直方图均衡化。这样可以更好地适应图像的局部特征。但A会过度放大图像中噪声区域的对比度。
### 限制对比度的自适应直方图均衡化 CLAHE
AHE的改进版。通过在计算每个小块的 CDF 之前，对直方图进行“裁剪”（限制其最大高度），来限制噪声的放大。CLAHE 是目前应用最广泛的图像局部对比度增强算法，在医学影像、低光照图像增强等领域效果卓越。