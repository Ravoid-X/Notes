## 概述
1. 核心目标：在尽可能不影响视觉质量的前提下，用最少的数据量来表示图像。
2. 本质就是去除数据中的冗余信息。
# 冗余
## 空间冗余
相邻像素之间存在着强烈的相关性，比如在一张蓝天的图片中，一个像素点和它旁边的像素点很可能都是蓝色。
### 行程编码
1. 简单高效的无损压缩技术。将连续出现的相同数据用“数据值”和“出现次数”来代替。
2. 例如，BBBBWBB 可以被编码为 B4W1B2。对于有大面积纯色块的图像（如图标、漫画）非常有效。
### 变换编码
JPEG 等有损压缩的核心。它将图像从空间域（像素域）变换到频率域。
1. 离散余弦变换 (DCT)是最常用的工具。能将图像的能量（信息）集中到频率域的少数几个低频系数上。
2. 变换后，大部分高频系数的值都非常接近于零，而这些高频系数正好对应了人眼不敏感的细节。
3. 可以丢弃（或用很少的比特表示）那些接近于零的高频系数，从而实现大量的数据压缩。
## 编码冗余
用来表示像素值的编码方式效率不高。例如，在使用8位编码时，无论一个像素值是经常出现的“白色(255)”还是很少出现的“某个特定灰色(137)”，都用一个8位的二进制数来表示。
### 变长编码
为出现频率高的符号（像素值）分配短码字，为出现频率低的符号分配长码字。
### 霍夫曼编码
1. 最经典的变长编码算法。它通过构建一个二叉树（霍夫曼树）来为每个符号生成最优的前缀码（任何一个码字都不是另一个码字的前缀，便于解码）。
2. PNG、JPEG等多种格式都用到了霍夫MAN编码或其变体。
### 算术编码
1. 比霍夫曼编码更先进，压缩率更高。
2. 将整个消息表示为一个位于 [0, 1) 区间内的小数，出现概率越高的符号占用的区间范围越大。
## 心理视觉冗余
人眼视觉系统（HVS）的生理和心理局限性。人眼对某些信息的感知能力是有限的，超出这个限度的信息即使被移除，人眼也无法察觉或很难察觉。
### 人眼对亮度比对色度更敏感
1. 可以在色度通道（如YCbCr中的Cb和Cr通道）上进行更大程度的压缩，即色度子采样 (Chroma Subsampling)。
2. 例如，JPEG中常用的4:2:0采样，就是每4个亮度像素共享一套色度信息，仅这一步就可以节省大量数据。
### 人眼对高频细节不敏感
如前所述，通过DCT变换后，可以丢弃那些代表人眼不敏感的图像细节的高频系数。这个过程称为量化。
### 遮蔽效应
1. 在图像的复杂纹理区域（高频区域）或强边缘附近，人眼对微小变化的感知能力会下降。
2. 因此，在这些区域可以进行更粗糙的量化（丢弃更多信息），而不易被察觉。

# 评判标准
## 压缩比
最直接的指标，衡量文件大小减小的程度。
## 图像质量
### 峰值信噪比 (Peak Signal-to-Noise Ratio, PSNR)
1. 这是最常用的客观指标。它衡量的是信号（原始图像）的最大可能功率与失真噪声功率之间的比值，单位是分贝(dB)。
2. PSNR 值越高，代表失真越小，图像质量越好。 一般来说，30dB 以上被认为质量不错。
### 结构相似性 (Structural Similarity Index, SSIM)
1. 一种更先进的、更符合人眼视觉感知的指标。它从亮度、对比度和结构三个方面来衡量两张图像的相似度。
2. SSIM的取值范围是-1到1，值越接近1，表示两张图像越相似，质量越好。 相比PSNR，SSIM通常能更好地反映人眼的主观感受。
## 编解码速度
