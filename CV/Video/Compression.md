# 视频帧的类型
## I-帧 (Intra-coded Frame，帧内编码帧)、
1. 一个完整的图像帧，压缩时只利用了 空间冗余，压缩率是 7。
2. 解码时，解码器可以从任何一个I-帧开始独立解码，而无需前面的数据。
3. 是视频序列的“锚点”或“关键帧”，作为P-帧和B-帧的解码参考。
4. 是视频随机访问（如拖动进度条）的定位点。
5. 可防止误差扩散。如果解码出错，到下一个 I-帧时可以更新。
## P-帧 (Predictive-coded Frame，前向预测编码帧)
1. 利用 时间冗余 进行压缩，压缩率是 20。
2. 需要参考其前面的一个 I-帧 或 P-帧才能进行解码。
3. 存储的是与参考帧之间的 运动矢量 和 残差，极大地提高了视频的压缩效率。
## B-帧 (Bi-directionally predictive-coded Frame，双向预测编码帧)
1. 压缩效率最高的帧类型，压缩率是 50。
2. 既可以参考 前面 的帧，也可以参考 后面 的帧来进行预测。
3. 可以提供更准确的匹配。例如，一个物体被暂时遮挡，在前向预测中找不到匹配块，但在后向预测中可能能找到。
4. 解码需等待未来的参考帧先被解码，这会引入一定的解码延迟，并需要更大的解码缓存。
## 图像组 (Group of Pictures, GOP)
1. 一个典型的GOP序列可能是这样的： I B B P B B P B B I ...
2. 编码器会先编码 I 帧，然后编码 P 帧，最后再编码它们之间的 B 帧。例如，对于 I0 B1 B2 P3，编码顺序可能是 I0 P3 B1 B2。
3. 解码器必须按照编码顺序进行解码，得到 I0 和 P3 后，才能回头解码 B1 和 B2。

# 冗余
空间冗余、感知冗余和编码冗余等同于单张图片冗余
## 时间冗余
视频压缩中最重要、压缩率最高的部分，指连续的视频帧之间的冗余。
### 核心思想
不存储每一帧的完整图像，而是找到当前帧与 参考帧 之间的关系，只记录这个“差异”。
### 流程
1. 运动估计：编码器将当前帧分割成一个个小块（宏块/编码单元）。对于每个小块，在参考帧的某个搜索范围内，寻找一个最相似的匹配块。
2. 记录运动矢量：从参考块到当前块的位置偏移，被称为 运动矢量。
3. 计算残差：即使找到了最佳匹配块，它和当前块之间通常也存在微小差异。这个差异被称为 残差。
4. 编码传输：编码器最终只需要记录 运动矢量 和 残差。因为运动矢量和残差的数据量远小于原始像素块的数据量，从而实现了高效压缩。
5. 运动补偿：解码器在解码时，根据收到的运动矢量，从已经解码的参考帧中“搬运”出预测块，然后再加上解码后的残差，就能完美地恢复出当前块。