## IPv4
由32位二进制数组成，通常用点分十进制表示，比如192.168.0.1。\
<img src="../../Pic/Subject/Network/tcpip-ip.png" style="width:600px;padding:10px;"/>
<img src="../../Pic/Subject/Network/tcpip-ip-structure.png" style="width:400px;padding:10px;"/>

### 结构
1. 可以分为两部分，网络号用于表示一个网络，主机号用于表示该网络内的一台主机。
2. 理论上可以接入 256 台主机，但有两个特殊地址不能分配\
<img src="../../Pic/Subject/Network/tcpip-ip-limit.png" style="width:500px;padding:10px;"/>

3. 网络地址：主机号比特全为 0，网络的起始地址，用于表示网络本身。
4. 广播地址：主机号比特全为 1，是网络的结束地址，用于向网络内的所有主机进行广播。

### 分类
1. A 类地址：第一位总是为 0 ，网络号总是 1 字节，主机号总是 3 字节，一般分配给大型网络\
<img src="../../Pic/Subject/Network/tcpip-ip-type.png" style="width:500px;padding:10px;"/>

2. B 类地址：前两位总是 10 ，网络号总是 2 字节，主机号总是 2 字节，一般分配给中型网络，地址范围：128.0.0.0 ~ 191.255.255.255
<img src="../../Pic/Subject/Network/tcpip-ip-type.png" style="width:500px;padding:10px;"/>

3. C 类地址：前三位总是 110 ，网络号总是 3 字节，主机号总是 1 字节，一般分配给小型网络，地址范围：192.0.0.0 ~ 223.255.255.255
4. D 类地址：前四位总是 1110 ，用于多播通信，地址范围：224.0.0.0 ~ 239.255.255.255
5. E 类地址：四位总是 1111 ，保留未用，地址范围：240.0.0.0 ~ 255.255.255.255
## 子网
### 问题
1. IP地址浪费：网络地址块可能无法完全利用，造成地址资源的浪费。
2. 网络拥堵：所有设备都在同一个广播域内，任何一台设备发送广播信息，所有设备都会接收，导致网络流量增加，性能下降。
3. 安全性降低：网络中的任何设备都可以轻易访问其他设备，缺乏隔离机制。
4. 管理困难：在一个庞大的网络中定位和管理特定设备变得非常复杂。
5. 为了解决这些问题，子网划分（Subnetting） 技术应运而生。将一个大的网络（主网络）分割成多个更小的、独立的网络（子网）。
### 子网掩码
1. 与IP地址结构相似的32位二进制数，它的作用就是“屏蔽”掉IP地址的主机部分，从而“显露出”网络地址。
2. 位为 1 的部分对应 IP 地址的网络部分；0 的部分对应主机部分。
### CIDR（Classless Inter-Domain Routing）表示法
例如，255.255.255.0 的二进制形式有24个“1”，所以 192.168.1.100 和 255.255.255.0 可以简写为 192.168.1.100/24。
### 划分示例
1. 公式
$$\text{可用的子网数} = 2^n$$
n 是从主机位借来的二进制位数
2. 假设我们有一个标准的 C 类网络，例如 192.168.1.0
3. C 类地址默认有 8 位主机位。要从这 8 位中借用 4 位，意味着子网掩码的最后 8 位将从 00000000 变为 11110000。
4. 新的子网掩码是 255.255.255.240
## IPv6
由128位二进制数组成，通常用冒号分隔的16进制表示，比2001:0db8:85a3:0000:0000:8a2e:0370:7334。

