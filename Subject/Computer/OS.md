## 简介（pending）
大部分计算机有两种运行模式：内核态和用户态。操作系统运行在内核态中，具有硬件的访问权，可以执行机器能够运行的任何指令。软件的其余部分运行在用户态下。功能如下：
### 进程管理
进程控制、进程同步、进程通信、死锁处理、处理机调度等。
### 内存管理
内存分配、地址映射、内存保护与共享、虚拟内存等。
### 文件管理
文件存储空间的管理、目录管理、文件读写管理和保护等。
### 设备管理
完成用户的 I/O 请求，方便用户使用各种设备，并提高设备的利用率。主要包括缓冲管理、设备分配、设备处理、虛拟设备等。

# 调度
如果只有一个 CPU 可用，那么必须选择接下来哪个进程/线程可以运行，调度程序（scheduler）来处理这个。不同的环境下需要不同的调度算法，划分出以下三种环境
## 批处理（Batch）-商业领域
### 先来先服务
1. 非抢占式调度，任务进入系统时，会立即启动并允许运行任意长时间，当其他作业进入时会排到就绪队列尾部。
2. 当正在运行的进程阻塞，处于等待队列的第一个进程就开始运行。当一个阻塞的进程重新处于就绪态时，会重新加入队尾。
3. 易于理解和编程，在这个算法中，一个单链表记录了所有就绪进程。
### 最短作业优先（SJF）
需运行时间已知。在所有的进程都可以运行的情况下，最短作业优先是最优的。
### 最短剩余时间优先
最短作业优先的抢占式版本，调度程序总是选择剩余运行时间最短的那个进程运行。
## 交互式（Interactive）
### 轮询调度
1. 最简单、最公平并且最广泛使用，每个进程都会被分配一个时间片（quantum），在这个时间片内允许进程运行。
2. 如果时间片结束时进程还在运行的话，则抢占一个 CPU 并将其分配给另一个进程。
3. 如果进程在时间片结束前阻塞或结束，则 CPU 立即进行切换。
假设了所有的进程是同等重要的，调度程序所做的就是维护一个可运行进程的列表，当一个进程用完时间片后就被移到队列的末尾。
### 优先级调度
事实情况所有的进程优先级不同，每个进程都被赋予一个优先级，优先级高的进程先运行。
### 多级队列
1. 为 CPU 密集型进程设置较长的时间片比频繁地分给他们很短的时间要更有效（减少交换次数）。
2. 另一方面，长时间片的进程又会影响到响应时间，解决办法是设置优先级类。
3. 属于最高优先级的进程运行一个时间片，次高优先级进程运行 2 个时间片，再下面一级运行 4 个时间片，以此类推。
4. 当一个进程用完分配的时间片后，它被移到下一类。
### 最短进程优先
1. 根据进程过去的行为进行推测，并执行估计运行时间最短的那一个。
2. 假设每个终端上每条命令的预估运行时间为 T0，现在假设测量到其下一次运行时间为 T1，可以用两个值的加权来改进估计时间，即 aT0+ (1- a)T1
3. 通过选择 a 的值，可以决定是尽快忘掉老的运行时间，还是在一段长时间内始终记住它们。
### 保证调度
对用户做出明确的性能保证，例如用户工作时有 n 个用户登录，则每个用户将获得 CPU 处理能力的 1/n。
### 彩票调度
为进程提供各种系统资源的彩票。当做出一个调度决策的时候，就随机抽出一张彩票，拥有彩票的进程将获得该资源。
### 公平分享调度
在调度前把进程的拥有者考虑在内。每个用户都会分配一些 CPU 时间，而调度程序会选择进程并强制执行。
## 实时
### 硬实时
须要满足绝对的截止时间
### 软实时
虽然不希望偶尔错失截止时间，但是可以容忍。
### 周期性事件
以规则的时间间隔发生
### 非周期性事件
发生时间不可预知

## 相关概念
### 并发
两个或多个事件在同一时间间隔发生。在一台处理器上“同时”处理多个任务，实际只有一个在执行。
### 并行
两个或者多个事件在同一时刻发生。在多台处理器上同时处理多个任务。